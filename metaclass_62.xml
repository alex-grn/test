<SYSTEM id="62" name="Учет расходов на выборы 2">
	<MODULES id="Modules" name="Модули"/>
	<GROUPS_MENU name="Группы меню"/>
	<ATTRIBUTES name="Атрибуты">
		<A id="INVENTORYID" name="Поступление МЗ Избирательной кампании" caption="Поступление МЗ" labelwidth="200" type="ref" table="INVENTORY" ret="ID" nulls="false"/>
		<A id="INVENTORY_DOCSID" name="Поступление МЗ" caption="Поступление МЗ" labelwidth="200" type="ref" table="INVENTORY_DOCS" ret="ID" nulls="false"/>
		<A id="OTHER_INVENTORY_DOCSID" name="Поступление МЗ" caption="Поступление МЗ" labelwidth="200" type="ref" table="OTHER_INVENTORY_DOCS" ret="ID" nulls="false"/>
		<A id="INVENTORY_TRIAL_BALANCEID" name="Оборотные ведомости по НФА" caption="Оборотные ведомости по НФА" labelwidth="200" type="ref" table="INVENTORY_TRIAL_BALANCE" ret="ID" nulls="false"/>
		<A id="INVENTORY_TRIAL_BALANCEDOCSID" name="Оборотная ведомость по НФА" caption="Оборотная ведомость по НФА" labelwidth="200" type="ref" table="INVENTORY_TRIAL_BALANCEDOCS" ret="ID" nulls="false"/>
		<A id="WRITEOFFID" name="Списание МЗ" caption="Списание МЗ" labelwidth="200" type="ref" table="WRITEOFF" ret="ID" nulls="false"/>
		<A id="WRITEOFF_STATEMENT_HEADERID" name="Ведомость списания МЗ" caption="Ведомость списания МЗ" labelwidth="200" type="ref" table="WRITEOFF_STATEMENT_HEADER" ret="ID" nulls="false"/>
		<A id="WRITEOFF_INVOICE_HEADERID" name="Трекбования-накладная" caption="Трекбования-накладная" labelwidth="200" type="ref" table="WRITEOFF_INVOICE_HEADER" ret="ID" nulls="false"/>
		<A id="WRITEOFF_ACTS_HEADERID" name="Акт списания МЗ" caption="Акт списания МЗ" labelwidth="200" type="ref" table="WRITEOFF_ACTS_HEADER" ret="ID" nulls="false"/>
	</ATTRIBUTES>
	<GROUPS_ATTRIBUTES name="Группы атрибутов"/>
	<TABLES name="Таблицы">

		
		<TABLE id="INVENTORY_TRIAL_BALANCE" name="Оборотные ведомости по НФА ИК">
			<GA name="Избирательная кампания" caption="Избирательная кампания">
				<A id="ELECTCAMPAIGNID" labelwidth="200" nulls="false"/>
				<A id="LEVELELCAMPAIGN" labelwidth="200" readonly="true" virtual="true" formula="select t.LEVELELCAMPAIGN from ELECTCAMPAIGN t where t.id = @ELECTCAMPAIGNID"/>
				<A id="ELECTDATE" labelwidth="200" readonly="true" virtual="true" formula="select t.ELECTDATE from ELECTCAMPAIGN t where t.id = @ELECTCAMPAIGNID"/>
				<A id="JURPERSONSID"/>
			</GA>
			<TI unique="ELECTCAMPAIGNID,JURPERSONSID"/>		
		</TABLE>
		<TABLE id="INVENTORY_TRIAL_BALANCEDOCS" name="Оборотные ведомости по нефинансовым активам">
			<A id="INVENTORY_TRIAL_BALANCEID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" parentkey="nocascade" visible="false" virtual="true" readonly="true" formula="select ELECTCAMPAIGNID from INVENTORY_TRIAL_BALANCE where id=@INVENTORY_TRIAL_BALANCEID"/>
			<A id="RESPPERSON" name="МОЛ" caption="МОЛ" type="ref" table="MTRESPONSPERS" ret="FULLNAME" labelwidth="120" nulls="false"  local="true"/>
			<A id="ACCOUNTID" name="Счет" caption="Счет" labelwidth="120"/>
		</TABLE>
		<TABLE id="INVENTORY_TRIAL_BALANCESTAGES" name="Номенклатура оборотных ведомостей">
			<A id="INVENTORY_TRIAL_BALANCEDOCSID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" name="Избирательная кампания" caption="Избирательная кампания" visible="false" readonly="true" labelwidth="150" nulls="false" formula="select b.ELECTCAMPAIGNID from INVENTORY_TRIAL_BALANCE b, INVENTORY_TRIAL_BALANCEDOCS d where b.id = d.INVENTORY_TRIAL_BALANCEID and d.id=@INVENTORY_TRIAL_BALANCEDOCSID"/>
			<A id="JURPERSONSID" name="Избирательная комиссия" caption="Избирательная комиссия" visible="false" readonly="true" labelwidth="150" nulls="false" formula="select b.JURPERSONSID from INVENTORY_TRIAL_BALANCE b, INVENTORY_TRIAL_BALANCEDOCS d where b.id = d.INVENTORY_TRIAL_BALANCEID and d.id=@INVENTORY_TRIAL_BALANCEDOCSID"/>
			<A id="RESPPERSON" name="МОЛ" caption="МОЛ" type="ref" table="MTRESPONSPERS" ret="FULLNAME" visible="false" readonly="true" labelwidth="150" nulls="false" local="true" formula="select RESPPERSON from INVENTORY_TRIAL_BALANCEDOCS where id=@INVENTORY_TRIAL_BALANCEDOCSID"/>
			<A id="DICNOMNSID" name="Номенклатура" caption="Номенклатура" labelwidth="150" type="ref" table="DICNOMNS" ret="CODE" nulls="false" local="true"/>
			<A id="TYPENOM" labelwidth="150" width="50" readonly="true" virtual="true" formula="select t.TYPENOM from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="DICMUNTSID" labelwidth="90" width="50" readonly="true" virtual="true" formula="select t.DICMUNTSID from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="BASIS" name="Основание" caption="Основание" type="string" labelwidth="120" local="true"/>
			<GA name="Обороты" caption="Обороты">
				<A id="BALANCEDATE" name="Дата" caption="Дата" type="date" nulls="false" labelwidth="60" width="30" local="true"/>
				<A id="DTQUANTITY" name="Приход" caption="Приход" type="number" labelwidth="50" width="35" nulls="true" value="0" local="true"/>	
				<A id="KTQUANTITY" name="Расход" caption="Расход" type="number" labelwidth="50" width="35" nulls="true" value="0" local="true"/>	
			</GA>
		</TABLE>		
		<TABLE id="VIRT_LEFTOVERS" name="Остатки по оборотным ведомостям" virtual="true" query="select DICNOMNSID ID, null HID, max(LID) LID, 0 CID, max(UID) UID, max(TIM) TIM, ELECTCAMPAIGNID ELECTCAMPAIGNID, JURPERSONSID JURPERSONSID, RESPPERSON RESPPERSON, DICNOMNSID DICNOMNSID, now() BALANCEDATE, (sum(coalesce(DTQUANTITY,0))-sum(coalesce(KTQUANTITY,0))) BALANCE from INVENTORY_TRIAL_BALANCESTAGES s group by ELECTCAMPAIGNID, JURPERSONSID, RESPPERSON, DICNOMNSID">
			<A id="ELECTCAMPAIGNID" name="Избирательная кампания" caption="Избирательная кампания" visible="true" readonly="true" labelwidth="150" nulls="false" />
			<A id="JURPERSONSID" name="Избирательная комиссия" caption="Избирательная комиссия" visible="true" readonly="true" labelwidth="150" nulls="false" />
			<A id="RESPPERSON" name="МОЛ" caption="МОЛ" type="ref" table="MTRESPONSPERS" ret="FULLNAME" visible="true" readonly="true" labelwidth="150" nulls="false" local="true" />
			<A id="DICNOMNSID" name="Номенклатура" caption="Номенклатура" labelwidth="150" type="ref" table="DICNOMNS" ret="CODE" nulls="false" local="true"/>
			<A id="TYPENOM" labelwidth="150" width="50" readonly="true" virtual="true" formula="select t.TYPENOM from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="DICMUNTSID" labelwidth="90" width="50" readonly="true" virtual="true" formula="select t.DICMUNTSID from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="DICMUNTSCODE" type="string" labelwidth="90" width="50" readonly="true" virtual="true" formula="select t.CODE from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="BALANCE" type="number" name="Остаток" caption="Остаток" labelwidth="90" width="50" readonly="true"/>
			<A id="CODE" type="string" name="Код" caption="Код" parentkey="cascade" virtual="true" formula="@ELECTCAMPAIGNID||';'||@JURPERSONSID||';'||@RESPPERSON"/>
		</TABLE>

		<TABLE id="WRITEOFF" name="Списание МЗ избирательной кампании">
			<GA name="Избирательная кампания" caption="Избирательная кампания">
				<A id="ELECTCAMPAIGNID" labelwidth="200" nulls="false"/>
				<A id="LEVELELCAMPAIGN" labelwidth="200" readonly="true" virtual="true" formula="select t.LEVELELCAMPAIGN from ELECTCAMPAIGN t where t.id = @ELECTCAMPAIGNID"/>
				<A id="ELECTDATE" labelwidth="200" readonly="true" virtual="true" formula="select t.ELECTDATE from ELECTCAMPAIGN t where t.id = @ELECTCAMPAIGNID"/>
				<A id="JURPERSONSID"/>
			</GA>
			<TI unique="ELECTCAMPAIGNID,JURPERSONSID"/>
		</TABLE>
		<TABLE id="WRITEOFF_STATEMENT_HEADER" name="Ведомость выдачи МЗ">
			<A id="WRITEOFFID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" parentkey="nocascade" visible="false" virtual="true" readonly="true" formula="select ELECTCAMPAIGNID from WRITEOFF where id=@WRITEOFFID"/>
			<A id="ELECTCOMMITTEEID" parentkey="nocascade" virtual="true" readonly="true" visible="false" formula="select j.electcommitteeid from jurpersons j, WRITEOFF w where w.id = @WRITEOFFID and  j.id = w.JURPERSONSID"/>
			<GA name="Документ" caption="Документ">
				<A id="DOCTYPEID" visible="true" readonly="true" value="26" labelwidth="120" width="100"/>
				<A id="DOCNUMB" name="Номер" caption="Номер" type="number" labelwidth="120" width="55" nulls="false" formula="select coalesce(regexp_replace(max(lpad(DOCNUMB::text,80,' ')), '[^0-9]', '', 'g')::int+1,1) from WRITEOFF_STATEMENT_HEADER where WRITEOFFID = @WRITEOFFID and cid=0"/>
				<A id="DOCDATE" name="Дата" caption="Дата" type="date" nulls="true" labelwidth="50" width="45"/>
			</GA>
			<GA name="Отправитель" caption="Отправитель">
				<A id="RESPPERSON" name="МОЛ" caption="МОЛ" labelwidth="120" nulls="false" pid="ELECTCOMMITTEEID"/>
			</GA>
		</TABLE>
		<TABLE id="WRITEOFF_STATEMENT_GOODS" name="Номенклатура Ведомости выдачи МЗ">
			<A id="WRITEOFF_STATEMENT_HEADERID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" parentkey="nocascade" visible="false" readonly="true" formula="select w.ELECTCAMPAIGNID from WRITEOFF w, WRITEOFF_STATEMENT_HEADER d where w.id=d.WRITEOFFID and d.id=@WRITEOFF_STATEMENT_HEADERID"/>
			<A id="JURPERSONSID" parentkey="nocascade" visible="false" readonly="true" formula="select w.JURPERSONSID from WRITEOFF w, WRITEOFF_STATEMENT_HEADER d where w.id=d.WRITEOFFID and d.id=@WRITEOFF_STATEMENT_HEADERID"/>
			<A id="SENDERRESPPERSON" name="МОЛ" caption="МОЛ" type="ref" table="MTRESPONSPERS" ret="FULLNAME" labelwidth="120" nulls="false" visible="false" readonly="true" formula="select d.RESPPERSON from WRITEOFF_STATEMENT_HEADER d where d.id=@WRITEOFF_STATEMENT_HEADERID"/>
			<A id="ELECTCOMMITTEEID" parentkey="nocascade" virtual="true" readonly="true" visible="false" formula="select j.electcommitteeid from jurpersons j where j.id = @JURPERSONSID"/>
			<GA name="Получатель" caption="Получатель">
				<A id="RESPPERSON" name="МОЛ" caption="МОЛ" labelwidth="120" nulls="false" pid="ELECTCOMMITTEEID"/>
			</GA>				
			<A id="DOCDATE" parentkey="nocascade" visible="false" readonly="true" formula="select DOCDATE from WRITEOFF_STATEMENT_HEADER where id=@WRITEOFF_STATEMENT_HEADERID"/>
			<A id="NUMBPP" name="№ п/п" caption="№ п/п" labelwidth="150" width="100" readonly="true" visible="false" type="number" nulls="false" formula="select coalesce(regexp_replace(max(lpad(numbpp::text,80,' ')), '[^0-9]', '', 'g')::int+1,1) from WRITEOFF_STATEMENT_GOODS where WRITEOFF_STATEMENT_HEADERID = @WRITEOFF_STATEMENT_HEADERID and cid=0"/>
			<A id="CODE" type="string" visible="false" name="Код" caption="Код" parentkey="nocascade" virtual="true" formula="@ELECTCAMPAIGNID||';'||@JURPERSONSID||';'||@SENDERRESPPERSON"/>
			<A id="DICNOMNSID" name="Номенклатура" caption="Номенклатура" labelwidth="150" type="ref" table="VIRT_LEFTOVERS" ret="DICMUNTSCODE" pid="CODE" nulls="false" form="LEFTOVERSFRM" local="true"/>
			<A id="TYPENOM" labelwidth="150" width="40" readonly="true" virtual="true" formula="select t.TYPENOM from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="DICMUNTSID" labelwidth="120" width="30" readonly="true" virtual="true" formula="select t.DICMUNTSID from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="LEFTOVER" labelwidth="60" type="number" width="30" name="Остаток" caption="Остаток" virtual="true" formula="select coalesce((sum(coalesce(DTQUANTITY,0))-sum(coalesce(KTQUANTITY,0))),0) from INVENTORY_TRIAL_BALANCESTAGES s where @DOCDATE >= balancedate and DICNOMNSID = @DICNOMNSID and RESPPERSON = @RESPPERSON and ELECTCAMPAIGNID = @ELECTCAMPAIGNID and JURPERSONSID=@JURPERSONSID  group by ELECTCAMPAIGNID, JURPERSONSID, RESPPERSON, DICNOMNSID"/>
			<A id="QUANTITY" name="Количество" type="number" labelwidth="150" width="50" nulls="false"/>	
			<A id="SUMM" name="Сумма" type="number" labelwidth="90" width="50" nulls="false"/>
			<GA id="TYPICALOPERATION"/>			
		</TABLE>
		
		<TABLE id="WRITEOFF_INVOICE_HEADER" name="Требования-накладные">
			<A id="WRITEOFFID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" parentkey="nocascade" visible="false" virtual="true" readonly="true" formula="select ELECTCAMPAIGNID from WRITEOFF where id=@WRITEOFFID"/>
			<A id="ELECTCOMMITTEEID" parentkey="nocascade" virtual="true" readonly="true" visible="false" formula="select j.electcommitteeid from jurpersons j, WRITEOFF w where w.id = @WRITEOFFID and  j.id = w.JURPERSONSID"/>
			<GA name="Документ" caption="Документ">
				<A id="DOCTYPEID" visible="true" readonly="true" value="28" labelwidth="120" width="100"/>
				<A id="DOCNUMB" name="Номер" caption="Номер" type="number" labelwidth="120" width="55" nulls="false" formula="select coalesce(regexp_replace(max(lpad(DOCNUMB::text,80,' ')), '[^0-9]', '', 'g')::int+1,1) from WRITEOFF_INVOICE_HEADER where WRITEOFFID = @WRITEOFFID and cid=0"/>
				<A id="DOCDATE" name="Дата" caption="Дата" type="date" nulls="true" labelwidth="50" width="45"/>
			</GA>
			<GA name="Отправитель" caption="Отправитель">
				<A id="RESPPERSON" name="МОЛ" caption="МОЛ" labelwidth="120" nulls="false" pid="ELECTCOMMITTEEID"/>
			</GA>
			<GA name="Получатель" caption="Получатель">
				<A id="RECIPIENTRESPPERSON" name="МОЛ" caption="МОЛ" labelwidth="120" nulls="false"/>
			</GA>	
		</TABLE>
		<TABLE id="WRITEOFF_INVOICE_GOODS" name="Номенклатура требований-накладных">
			<A id="WRITEOFF_INVOICE_HEADERID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" parentkey="nocascade" visible="false" readonly="true" formula="select w.ELECTCAMPAIGNID from WRITEOFF w, WRITEOFF_INVOICE_HEADER d where w.id=d.WRITEOFFID and d.id=@WRITEOFF_INVOICE_HEADERID"/>
			<A id="JURPERSONSID" parentkey="nocascade" visible="false" readonly="true" formula="select w.JURPERSONSID from WRITEOFF w, WRITEOFF_INVOICE_HEADER d where w.id=d.WRITEOFFID and d.id=@WRITEOFF_INVOICE_HEADERID"/>
			<A id="RESPPERSON" name="МОЛ" caption="МОЛ" labelwidth="120" nulls="false" visible="false" readonly="true" formula="select d.RESPPERSON from WRITEOFF_INVOICE_HEADER d where d.id=@WRITEOFF_INVOICE_HEADERID"/>
			<A id="DOCDATE" parentkey="nocascade" visible="false" readonly="true" formula="select DOCDATE from WRITEOFF_INVOICE_HEADER where id=@WRITEOFF_INVOICE_HEADERID"/>
			<A id="NUMBPP" name="№ п/п" caption="№ п/п" labelwidth="150" width="100" readonly="true" visible="false" type="number" nulls="false" formula="select coalesce(regexp_replace(max(lpad(numbpp::text,80,' ')), '[^0-9]', '', 'g')::int+1,1) from WRITEOFF_INVOICE_GOODS where WRITEOFF_INVOICE_HEADERID = @WRITEOFF_INVOICE_HEADERID and cid=0"/>
			<A id="CODE" type="string" visible="false" name="Код" caption="Код" parentkey="nocascade" virtual="true" formula="@ELECTCAMPAIGNID||';'||@JURPERSONSID||';'||@RESPPERSON"/>
			<A id="DICNOMNSID" name="Номенклатура" caption="Номенклатура" labelwidth="150" type="ref" table="VIRT_LEFTOVERS" ret="DICMUNTSCODE" pid="CODE" nulls="false" form="LEFTOVERSFRM" local="true"/>
			<A id="TYPENOM" labelwidth="150" width="40" readonly="true" virtual="true" formula="select t.TYPENOM from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="DICMUNTSID" labelwidth="120" width="30" readonly="true" virtual="true" formula="select t.DICMUNTSID from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="LEFTOVER" labelwidth="60" width="30" type="number" name="Остаток" caption="Остаток" virtual="true" formula="select coalesce((sum(coalesce(DTQUANTITY,0))-sum(coalesce(KTQUANTITY,0))),0) from INVENTORY_TRIAL_BALANCESTAGES s where @DOCDATE >= balancedate and DICNOMNSID = @DICNOMNSID and RESPPERSON = @RESPPERSON and ELECTCAMPAIGNID = @ELECTCAMPAIGNID and JURPERSONSID=@JURPERSONSID  group by ELECTCAMPAIGNID, JURPERSONSID, RESPPERSON, DICNOMNSID"/>
			<A id="QUANTITY" name="Количество" type="number" labelwidth="150" width="50" nulls="false"/>	
			<A id="SUMM" name="Сумма" type="number" labelwidth="90" width="50" nulls="false"/>
			<GA id="TYPICALOPERATION"/>			
		</TABLE>
		<TABLE id="WRITEOFF_ACTS_HEADER" name="Акт списания МЗ">
			<A id="WRITEOFFID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" parentkey="nocascade" visible="false" virtual="true" readonly="true" formula="select ELECTCAMPAIGNID from WRITEOFF where id=@WRITEOFFID"/>
			<A id="ELECTCOMMITTEEID" parentkey="nocascade" virtual="true" readonly="true" visible="false" formula="select j.electcommitteeid from jurpersons j, WRITEOFF w where w.id = @WRITEOFFID and  j.id = w.JURPERSONSID"/>
			<GA name="Документ" caption="Документ">
				<A id="DOCTYPEID" visible="true" readonly="true" value="27" labelwidth="120" width="100"/>
				<A id="DOCNUMB" name="Номер" caption="Номер" type="number" labelwidth="120" width="55" nulls="false" formula="select coalesce(regexp_replace(max(lpad(DOCNUMB::text,80,' ')), '[^0-9]', '', 'g')::int+1,1) from WRITEOFF_ACTS_HEADER where WRITEOFFID = @WRITEOFFID and cid=0"/>
				<A id="DOCDATE" name="Дата" caption="Дата" type="date" nulls="true" labelwidth="50" width="45"/>
			</GA>
			<A id="RESPPERSON" name="МОЛ" caption="МОЛ" labelwidth="120" nulls="false" pid="ELECTCOMMITTEEID"/>
		</TABLE>
		<TABLE id="WRITEOFF_ACTS_GOODS" name="Номенклатура Акта списания МЗ">
			<A id="WRITEOFF_ACTS_HEADERID" parentkey="cascade"/>
			<A id="ELECTCAMPAIGNID" parentkey="nocascade" visible="false" readonly="true" formula="select w.ELECTCAMPAIGNID from WRITEOFF w, WRITEOFF_ACTS_HEADER d where w.id=d.WRITEOFFID and d.id=@WRITEOFF_ACTS_HEADERID"/>
			<A id="JURPERSONSID" parentkey="nocascade" visible="false" readonly="true" formula="select w.JURPERSONSID from WRITEOFF w, WRITEOFF_ACTS_HEADER d where w.id=d.WRITEOFFID and d.id=@WRITEOFF_ACTS_HEADERID"/>
			<A id="RESPPERSON" name="МОЛ" caption="МОЛ" labelwidth="120" nulls="false" visible="false" readonly="true" formula="select d.RESPPERSON from WRITEOFF_ACTS_HEADER d where d.id=@WRITEOFF_ACTS_HEADERID"/>
			<A id="DOCDATE" parentkey="nocascade" visible="false" readonly="true" formula="select DOCDATE from WRITEOFF_ACTS_HEADER where id=@WRITEOFF_ACTS_HEADERID"/>
			<A id="NUMBPP" name="№ п/п" caption="№ п/п" labelwidth="150" width="100" readonly="true" visible="false" type="number" nulls="false" formula="select coalesce(regexp_replace(max(lpad(numbpp::text,80,' ')), '[^0-9]', '', 'g')::int+1,1) from WRITEOFF_ACTS_GOODS where WRITEOFF_ACTS_HEADERID = @WRITEOFF_STATEMENT_HEADERID and cid=0"/>
			<A id="CODE" type="string" visible="false" name="Код" caption="Код" parentkey="nocascade" virtual="true" formula="@ELECTCAMPAIGNID||';'||@JURPERSONSID||';'||@RESPPERSON"/>
			<A id="DICNOMNSID" name="Номенклатура" caption="Номенклатура" labelwidth="150" type="ref" table="VIRT_LEFTOVERS" ret="DICMUNTSCODE" pid="CODE" nulls="false" form="LEFTOVERSFRM" local="true"/>
			<A id="TYPENOM" labelwidth="150" width="40" readonly="true" virtual="true" formula="select t.TYPENOM from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="DICMUNTSID" labelwidth="120" width="30" readonly="true" virtual="true" formula="select t.DICMUNTSID from DICNOMNS t where t.id = @DICNOMNSID"/>
			<A id="LEFTOVER" labelwidth="60" width="30" type="number" name="Остаток" caption="Остаток" virtual="true" formula="select coalesce((sum(coalesce(DTQUANTITY,0))-sum(coalesce(KTQUANTITY,0))),0) from INVENTORY_TRIAL_BALANCESTAGES s where @DOCDATE >= balancedate and DICNOMNSID = @DICNOMNSID and RESPPERSON = @RESPPERSON and ELECTCAMPAIGNID = @ELECTCAMPAIGNID and JURPERSONSID=@JURPERSONSID  group by ELECTCAMPAIGNID, JURPERSONSID, RESPPERSON, DICNOMNSID"/>
			<A id="QUANTITY" name="Количество" type="number" labelwidth="150" width="50" nulls="false"/>	
			<A id="SUMM" name="Сумма" type="number" labelwidth="90" width="50" nulls="false"/>
			<GA id="TYPICALOPERATION"/>			
		</TABLE>
	
	</TABLES>
	<ACTIONS name="Действия">

	</ACTIONS>
	<REPORTS name="Отчеты">

	</REPORTS>
	<FORMS id="Forms" name="Формы">
		<FORM id="INVENTORY_TRIAL_BALANCEFRM" name="Оборотные ведомости по НФА">
			<GRID id="INVENTORY_TRIAL_BALANCEGR" name=" Оборотные ведомости по НФА избирательных кампаний" table="INVENTORY_TRIAL_BALANCE"/>
			<TABS>
				<TAB name="Оборотные ведомости по НФА">
					<GRID id="INVENTORY_TRIAL_BALANCEDOCSGR" name="Оборотные ведомости по НФА" table="INVENTORY_TRIAL_BALANCEDOCS"/>				
				</TAB>
				<TAB name="Номенклатура оборотных ведомостей">
					<GRID id="INVENTORY_TRIAL_BALANCESTAGESGR" name="Номенклатура оборотных ведомостей" table="INVENTORY_TRIAL_BALANCESTAGES"/>
				</TAB>
				<TAB name="Остатки">
					<GRID id="VIRT_LEFTOVERSGR" name="Остатки" readonly="true" table="VIRT_LEFTOVERS"/>
				</TAB>
			</TABS>		
		</FORM>
		<FORM id="WRITEOFFFRM" name="Списание МЗ избирательной кампании">
			<GRID id="WRITEOFFGR" name="Списание МЗ избирательной кампании" table="WRITEOFF"/>
			<TABS>
				<TAB name="Ведомости списания МЗ">				
					<TABS>
						<TAB name="Ведомость списания МЗ">
							<GRID id="WRITEOFF_STATEMENT_HEADERGR" name="Документ" table="WRITEOFF_STATEMENT_HEADER"/>				
						</TAB>
						<TAB name="Номенклатура списания МЗ">
							<GRID id="WRITEOFF_STATEMENT_GOODSGR" name="Номенклатура" table="WRITEOFF_STATEMENT_GOODS"/>
						</TAB>
					</TABS>		
				</TAB>
				<TAB name="Требования-накладные">				
					<TABS>
						<TAB name="Требование-накладная">
							<GRID id="WRITEOFF_INVOICE_HEADERGR" name="Документ" table="WRITEOFF_INVOICE_HEADER"/>				
						</TAB>
						<TAB name="Номенклатура списания МЗ">
							<GRID id="WRITEOFF_INVOICE_GOODSGR" name="Номенклатура" table="WRITEOFF_INVOICE_GOODS"/>
						</TAB>
					</TABS>		
				</TAB>
				<TAB name="Акты списания МЗ">				
					<TABS>
						<TAB name="Акт списания МЗ">
							<GRID id="WRITEOFF_ACTS_HEADERGR" name="Документ" table="WRITEOFF_ACTS_HEADER"/>				
						</TAB>
						<TAB name="Номенклатура списания МЗ">
							<GRID id="WRITEOFF_ACTS_GOODSGR" name="Номенклатура" table="WRITEOFF_ACTS_GOODS"/>
						</TAB>
					</TABS>		
				</TAB>
				<TAB name="Остатки">
					<GRID id="VIRT_LEFTOVERSGR" name="Остатки" readonly="true" table="VIRT_LEFTOVERS"/>
				</TAB>
			</TABS>		
		</FORM>
		<FORM id="LEFTOVERSFRM" name="Остатки МЗ ">
				<GRID id="VIRT_LEFTOVERSGR" name="Остатки" readonly="true" table="VIRT_LEFTOVERS"/>
		</FORM>
		<FORM id="TRANSACTIONLOGFRM" name="Журнал операций">
			<GRID id="TRANSACTIONLOGGR" name="Журналы операций избирательных кампаний" table="TRANSACTIONLOG"/>
			<TABS>
				<TAB name="Журнал операций">
					<GRID id="TRANSACTIONLOGDocsGR" name="Журнал операций" table="TRANSACTIONLOG_DOCS"/>				
				</TAB>
				<TAB name="Проводка хозяственной операции">
					<GRID id="TRANSACTIONLOGStagesGR" name="Проводка хозяственной операции" table="TRANSACTIONLOG_STAGES"/>
				</TAB>
			</TABS>		
		</FORM>
	</FORMS>
</SYSTEM>

<SYSTEM id="1" name="Администратор">
	<MODULES id="Modules" name="Модули">
		<MODULE id="Administrator" name="Администратор" menu="Administrator"/>
	</MODULES>
	<GROUPS_MENU name="Группы меню">
		<MENU id="Administrator" name="Меню модуля Администратор">
			<MENU name="Файл">
				<MI name="Загрузить конфигурацию" actionlist="ConfigLoad"/>
				<MI name="Выгрузить конфигурацию" actionlist="ConfigExport"/>
				<MI name="Удалить конфигурацию" actionlist="ConfigDrop"/>
				<MI name="Параметры системы" formlist="Options"/>
				<MI name="Загруженные файлы" formlist="Filelinks"/>
				<MI name="Изменить пароль" actionlist="PasswordChangeExit"/>
				<MI name="Выйти" actionlist="Exit"/>
			</MENU>
			<MENU name="Права доступа">
				<MI name="Пользователи" formlist="Users"/>
				<MI name="Роли" formlist="Roles"/>
			</MENU>
			<MENU name="Сервисы">
				<MENU name="Журналы">
					<MI name="Журнал регистрации сессий" formlist="RegSessions"/>
					<MI name="Журнал регистрации доступа" formlist="RegUnitAccess"/>
				</MENU>
				<MENU name="Конвертер">
					<MI name="Форматы обмена данными" formlist="Concepts"/>
					<MI name="Алгоритмы загрузки" formlist="Conv"/>
					<MI name="Процессы загрузки" formlist="ConvLoads"/>
					<MI name="Внешние ключи" formlist="ConvKeys"/>
				</MENU>
				<MENU name="Файловый обмен">
					<MI name="Файлы входящие" formlist="Fileinput"/>
					<MI name="Файлы исходящие" formlist="Fileoutput"/>
				</MENU>
				<MI name="Загрузка шаблонов отчетов" actionlist="uploadReports"/>
				<MI name="Настройки интерфейсов" formlist="ConfigTables"/>
			</MENU>
			<MENU name="Отчеты">
				<MI name="Отчет по метаданным" reportlist="MetaClassReport"/>
			</MENU>
			<MENU name="Справочники">
				<MI name="Классы метаданных" formlist="MetaClass"/>
				<MI name="Объекты доступа" formlist="Units"/>
				<MI name="Уровни доступа" formlist="LevAccess"/>
			</MENU>
			<MENU name="Справка">
				<MI name="Руководство Администратора" actionlist="HelpAdmin"/>
			</MENU>
		</MENU>
	</GROUPS_MENU>
	<ATTRIBUTES name="Атрибуты">
		<A id="CODE" name="Код" caption="Код" type="string" nulls="false"/>
		<A id="NAME" name="Наименование" caption="Наименование" type="text" nulls="true"/>
		<A id="NOTE" name="Примечание" caption="Примечание" type="text" nulls="true"/>
		<A id="DESCRIPTION" name="Описание" caption="Описание" type="text" nulls="true"/>
		<A id="TABLEID" name="Таблица" caption="Таблица" type="string" nulls="false"/>
		<A id="TABLENAME" name="Наименование таблицы" caption="Наименование таблицы" type="string" nulls="false"/>
		<A id="COLUMNID" name="Колонка" caption="Колонка" type="string" nulls="false"/>
		<A id="COLUMNNAME" name="Наименование колонки" caption="Наименование колонки" type="string" nulls="false"/>
		<A id="COLUMNTYPE" name="Тип колонки" caption="Тип колонки" type="list" nulls="false">
			<AI id="string" name="Строка"/>
			<AI id="text" name="Текст"/>
			<AI id="int" name="Целое число"/>
			<AI id="bigint" name="Большое число"/>
			<AI id="number" name="Действительное число"/>
			<AI id="date" name="Дата"/>
			<AI id="time" name="Время"/>
			<AI id="datetime" name="Дата и время"/>
			<AI id="boolean" name="Логическое"/>
			<AI id="ref" name="Ссылка"/>
			<AI id="list" name="Список"/>
			<AI id="colorlist" name="Список цветов"/>
			<AI id="hidetext" name="Скрытая строка"/>
			<AI id="file" name="Файл"/>
		</A>
		<A id="FILENAME" name="Имя файла" caption="Имя файла" type="string" nulls="true"/>
		<A id="DOCTYPEID" name="Тип документа" caption="Тип" type="ref" table="DOCTYPES" ret="CODE" form="DocTypes" nulls="false"/>
		<A id="DOCPREF" name="Префикс документа" caption="Префикс" type="string" len="80" nulls="true"/>
		<A id="DOCNUMB" name="Номер документа" caption="Номер" type="string" len="80" nulls="false"/>
		<A id="DOCDATE" name="Дата документа" caption="Дата" type="date" nulls="false"/>
		<A id="SUMM" name="Сумма" caption="Сумма" type="number" len="17.2" nulls="false" value="0"/>
		<A id="CLASSNODE" name="Класс" caption="Класс" type="list" nulls="false">
			<AI id="SYSTEM" name="Система"/>
			<AI id="MODULES" name="Модули"/>
			<AI id="MODULE" name="Модуль"/>
			<AI id="GROUPS_MENU" name="Группы меню"/>
			<AI id="MENU" name="Меню"/>
			<AI id="MI" name="Пункт меню"/>
			<AI id="ATTRIBUTES" name="Атрибуты"/>
			<AI id="A" name="Атрибут"/>
			<AI id="AI" name="Значение атрибута"/>
			<AI id="GROUPS_ATTRIBUTES" name="Группы атрибутов"/>
			<AI id="GA" name="Группа атрибутов"/>
			<AI id="TABLES" name="Таблицы"/>
			<AI id="TABLE" name="Таблица"/>
			<AI id="TI" name="Табличный индекс"/>
			<AI id="ACTIONS" name="Действия"/>
			<AI id="ACTION" name="Действие"/>
			<AI id="FORMS" name="Формы"/>
			<AI id="FORM" name="Форма"/>
			<AI id="GRID" name="Грид"/>
			<AI id="RECORD" name="Запись"/>
			<AI id="TABS" name="Страницы"/>
			<AI id="TAB" name="Страница"/>
			<AI id="REPORTS" name="Отчеты"/>
			<AI id="REPORT" name="Отчет"/>
			<AI id="COMMENT" name="Коментарий"/>
		</A>
		<A id="PROPNODE" name="Свойство" caption="Свойство" type="list" nulls="false">
			<AI id="id" name="Идентификатор"/>
			<AI id="name" name="Наименование"/>
			<AI id="menu" name="Меню"/>
			<AI id="caption" name="Заголовок"/>
			<AI id="labelwidth" name="Ширина подписи (в пикселях)"/>
			<AI id="width" name="Ширина виджета внутри группы (в процентах)"/>
			<AI id="parentkey" name="Родительский ключ"/>
			<AI id="hid" name="Атрибут иерархии"/>
			<AI id="type" name="Тип данных"/>
			<AI id="len" name="Длина данных"/>
			<AI id="format" name="Маска ввода"/>
			<AI id="pid" name="Родитель"/>
			<AI id="pid_ref" name="Родитель в ссылочной таблице"/>
			<AI id="table" name="Таблица"/>
			<AI id="tablename" name="Наименование таблицы"/>
			<AI id="ret" name="Возвращаемый атрибут"/>
			<AI id="form" name="Форма"/>
			<AI id="formlist" name="Список форм"/>
			<AI id="actionlist" name="Список действий"/>
			<AI id="reportlist" name="Список отчетов"/>
			<AI id="ext" name="Расширение файла"/>
			<AI id="href" name="Гиперссылка"/>
			<AI id="before" name="Действие до"/>
			<AI id="unique" name="Уникальный индекс"/>
			<AI id="index" name="Индекс"/>
			<AI id="check" name="Проверка"/>
			<AI id="procedure" name="Процедура"/>
			<AI id="template" name="Шаблон"/>
			<AI id="array" name="Массив значений"/>
			<AI id="nulls" name="Необязательность"/>
			<AI id="visible" name="Видимость"/>
			<AI id="readonly" name="Только чтение"/>
			<AI id="virtual" name="Виртуальный"/>
			<AI id="formula" name="Формула"/>
			<AI id="query" name="Запрос"/>
			<AI id="value" name="Значение по умолчанию"/>
			<AI id="local" name="Локальный"/>
		</A>
		<A id="FONTCOLOR" name="Цвет шрифта" caption="Цвет шрифта" type="colorlist" nulls="true">
			<AI id="#E52B50" name="Амарантовый"/>
			<AI id="#FFBF00" name="Янтарный"/>
			<AI id="#00FFFF" name="Сине-зеленый"/>
			<AI id="#000000" name="Черный"/>
			<AI id="#0000FF" name="Синий"/>
			<AI id="#0095B6" name="Вода пляжа Бонди"/>
			<AI id="#B5A642" name="Латунный"/>
			<AI id="#964B00" name="Коричневый"/>
			<AI id="#007BA7" name="Лазурный"/>
			<AI id="#177245" name="Тёмный весенне-зелёный"/>
			<AI id="#50C878" name="Изумрудный"/>
			<AI id="#990066" name="Баклажановый"/>
			<AI id="#FF00FF" name="Фуксия"/>
			<AI id="#FFD700" name="Золотой"/>
			<AI id="#808080" name="Серый"/>
			<AI id="#00FF00" name="Зелёный"/>
			<AI id="#4B0082" name="Индиго"/>
			<AI id="#00A86B" name="Нефритовый"/>
			<AI id="#CCFF00" name="Лайм"/>
			<AI id="#0BDA51" name="Малахитовый"/>
			<AI id="#000080" name="Тёмно-синий"/>
			<AI id="#CC7722" name="Охра"/>
			<AI id="#808000" name="Оливковый"/>
			<AI id="#FFA500" name="Оранжевый"/>
			<AI id="#FFE5B4" name="Персиковый"/>
			<AI id="#FF7518" name="Тыква"/>
			<AI id="#FF0000" name="Красный"/>
			<AI id="#F4C430" name="Шафрановый"/>
			<AI id="#2E8B57" name="Зелёное море"/>
			<AI id="#ACB78E" name="Болотный"/>
			<AI id="#008080" name="Сине-зелёный"/>
			<AI id="#120A8F" name="Ультрамариновый"/>
			<AI id="#8B00FF" name="Фиолетовый"/>
			<AI id="#FFFF00" name="Жёлтый"/>
		</A>
		<A id="BGCOLOR" name="Цвет фона" caption="Цвет фона" type="colorlist" nulls="true">
			<AI id="#E52B50" name="Амарантовый"/>
			<AI id="#FFBF00" name="Янтарный"/>
			<AI id="#00FFFF" name="Сине-зеленый"/>
			<AI id="#000000" name="Черный"/>
			<AI id="#0000FF" name="Синий"/>
			<AI id="#0095B6" name="Вода пляжа Бонди"/>
			<AI id="#B5A642" name="Латунный"/>
			<AI id="#964B00" name="Коричневый"/>
			<AI id="#007BA7" name="Лазурный"/>
			<AI id="#177245" name="Тёмный весенне-зелёный"/>
			<AI id="#50C878" name="Изумрудный"/>
			<AI id="#990066" name="Баклажановый"/>
			<AI id="#FF00FF" name="Фуксия"/>
			<AI id="#FFD700" name="Золотой"/>
			<AI id="#808080" name="Серый"/>
			<AI id="#00FF00" name="Зелёный"/>
			<AI id="#4B0082" name="Индиго"/>
			<AI id="#00A86B" name="Нефритовый"/>
			<AI id="#CCFF00" name="Лайм"/>
			<AI id="#0BDA51" name="Малахитовый"/>
			<AI id="#000080" name="Тёмно-синий"/>
			<AI id="#CC7722" name="Охра"/>
			<AI id="#808000" name="Оливковый"/>
			<AI id="#FFA500" name="Оранжевый"/>
			<AI id="#FFE5B4" name="Персиковый"/>
			<AI id="#FF7518" name="Тыква"/>
			<AI id="#FF0000" name="Красный"/>
			<AI id="#F4C430" name="Шафрановый"/>
			<AI id="#2E8B57" name="Зелёное море"/>
			<AI id="#ACB78E" name="Болотный"/>
			<AI id="#008080" name="Сине-зелёный"/>
			<AI id="#120A8F" name="Ультрамариновый"/>
			<AI id="#8B00FF" name="Фиолетовый"/>
			<AI id="#FFFF00" name="Жёлтый"/>
		</A>
		<A id="DOCLINKS_IN" name="Документы входящие" caption="Документы входящие" type="list" array="true" nulls="false" visible="grid" virtual="true" formula="p_system_get_doclinks_in(@TABLENAME, @ID)" query="select m.code as id, m.name as code from metaclass m where m.classnode='FORM' and m.code = any(p_system_get_doclinks_in(@TABLENAME)) order by 2"/>
		<A id="DOCLINKS_OUT" name="Документы исходящие" caption="Документы исходящие" type="list" array="true" nulls="false" visible="grid" virtual="true" formula="p_system_get_doclinks_out(@TABLENAME, @ID)" query="select m.code as id, m.name as code from metaclass m where m.classnode='FORM' and m.code = any(p_system_get_doclinks_out(@TABLENAME)) order by 2"/>
		<A id="BFILE" name="Файл" caption="Файл" type="file" ext="*" nulls="true"/>
		<A id="DISABLED" name="Запись заблокирована" caption="Запись заблокирована" type="boolean" nulls="true" value="false"/>
		<A id="ACCESS" name="Разрешить доступ" caption="Разрешить доступ" type="boolean" nulls="false" value="false"/>
		<A id="LOGIN" name="Логин" caption="Логин" type="string" len="40" nulls="false"/>
		<A id="PASSWORD" name="Пароль" caption="Пароль" type="hidetext" len="240" nulls="false"/>
		<A id="FAMILYNAME" name="Фамилия" caption="Фамилия" type="string" nulls="true"/>
		<A id="FIRSTNAME" name="Имя" caption="Имя" type="string" nulls="true"/>
		<A id="LASTNAME" name="Отчество" caption="Отчество" type="string" nulls="true"/>
		<A id="POST" name="Должность" caption="Должность" type="string" nulls="true"/>
		<A id="PHONE" name="Телефон" caption="Телефон" type="string" format="+7(DDD)DDD-DD-DD" nulls="true"/>
		<A id="EMAIL" name="E-Mail" caption="E-Mail" type="string" nulls="true"/>
		<A id="USERID" name="Пользователь" caption="Пользователь" type="ref" table="USERS" ret="LOGIN" form="Users" nulls="false"/>
		<A id="ROLEID" name="Роль" caption="Роль" type="ref" table="ROLES" ret="NAME" form="Roles" nulls="false"/>
		<A id="POSITION" name="Позиция" caption="Позиция" type="int" nulls="false"/>
		<A id="STRVALUE" name="Значение(строка)" caption="Значение(строка)" type="string" nulls="true"/>
		<A id="NUMVALUE" name="Значение(число)" caption="Значение(число)" type="number" len="17.5" nulls="true"/>
		<A id="DATVALUE" name="Значение(дата)" caption="Значение(дата)" type="date" nulls="true"/>
		<A id="IDENT" name="Идентификатор" caption="Идентификатор" type="bigint" nulls="true"/>
		<A id="DOCUMENT" name="Идентификатор документа" caption="Идентификатор документа" type="bigint" nulls="true"/>
		<A id="METACLASSID" name="Класс метаданных" caption="Класс метаданных" labelwidth="200" type="ref" table="METACLASS" ret="NAMEVIRT" form="MetaClass" nulls="false"/>
		<A id="METACLASSPROPSID" name="Свойство класса метаданных" caption="Свойство класса метаданных" labelwidth="200" type="ref" pid="METACLASSID" table="METACLASSPROPS" ret="PROPNODE_ret" nulls="false"/>
		<A id="UNITID" name="Объект доступа" caption="Объект доступа" type="ref" table="UNITS" ret="NAME" form="Units" nulls="false"/>
		<A id="LEVACCESSID" name="Уровень доступа" caption="Уровень доступа" type="ref" table="LEVACCESS" ret="NAME" form="LevAccess" nulls="true"/>
		<A id="FILELINKSID" name="Описание файла" caption="Описание файла" type="ref" table="FILELINKS" ret="DESCRIPTION" form="Filelinks" nulls="true"/>
		<A id="PRFILEVIRT" name="Имя файла" caption="Имя файла" labelwidth="200" type="string" nulls="true" visible="form" readonly="true" virtual="true" formula="select f.filename from filelinks f where f.id = @FILELINKSID"/>
		<A id="SIZEVIRT" name="Размер файла" caption="Размер файла" labelwidth="300" type="int" nulls="true" visible="form" readonly="true" virtual="true" formula="select f.size from filelinks f where f.id = @FILELINKSID"/>
		<A id="DOCDATEVIRT" name="Дата загрузки файла" caption="Дата загрузки файла" labelwidth="500" type="date" nulls="true" visible="form" readonly="true" virtual="true" formula="select f.docdate from filelinks f where f.id = @FILELINKSID"/>
		<A id="CONFIGTABLESBUFFID" name="Настройки интерфейса таблиц (буфер)" caption="Настройки интерфейса таблиц (буфер)" type="ref" table="CONFIGTABLESBUFF" ret="TABLEID" nulls="false"/>
		<A id="CONFIGCOLUMNSBUFFID" name="Настройки интерфейса колонок (буфер)" caption="Настройки интерфейса колонок (буфер)" type="ref" table="CONFIGCOLUMNSBUFF" ret="COLUMNID" nulls="false"/>
		<A id="CONFIGTABLESID" name="Настройки интерфейса таблиц" caption="Настройки интерфейса таблиц" type="ref" table="CONFIGTABLES" ret="TABLEID" nulls="false"/>
		<A id="CONFIGCOLUMNSID" name="Настройки интерфейса колонок" caption="Настройки интерфейса колонок" type="ref" table="CONFIGCOLUMNS" ret="COLUMNID" nulls="false"/>
		<A id="WIDTH" name="Ширина" caption="Ширина" type="int" nulls="false"/>
		<A id="VISIBLE" name="Видимость" caption="Видимость" type="boolean" nulls="false"/>
		<A id="CONCEPTID" name="Формат" caption="Формат" type="ref" table="CONCEPTS" ret="NAME" form="Concepts" nulls="false"/>
		<A id="CONCEPTITEMID" name="Элемент формата" caption="Элемент формата" labelwidth="120" type="ref" pid="CONCEPTID" table="CONCEPTITEMS" ret="NAME" nulls="false"/>
		<A id="CONVID" name="Алгоритм" caption="Алгоритм" type="ref" table="CONV" ret="NAME" form="Conv" nulls="false"/>
		<A id="CONVACTID" name="Действие" caption="Действие" labelwidth="150" type="ref" pid="CONVID" table="CONVACTS" ret="CONVUNIT_ret" form="ConvActs" nulls="false"/>
		<A id="CONVACTPARAMID" name="Параметр действия" caption="Параметр действия" labelwidth="150" type="ref" pid="CONVACTID" table="CONVACTPARAMS" ret="CODE" nulls="false"/>
		<A id="CONVLOADID" name="Процесс загрузки" caption="Процесс загрузки" labelwidth="150" type="ref" table="CONVLOADS" ret="NUMB" form="ConvLoads" nulls="false"/>
		<A id="CONVLOADACTID" name="Действие" caption="Действие" type="ref" pid="CONVLOADID" table="CONVLOADACTS" ret="CONVACTID_ret" form="ConvLoadActs" nulls="false"/>
		<A id="CONVLOADACTPARAMID" name="Параметр действия" caption="Параметр действия" labelwidth="150" type="ref" table="CONVLOADACTPARAMS" ret="CONVACTPARAMID_ret" nulls="false"/>
	</ATTRIBUTES>
	<GROUPS_ATTRIBUTES name="Группы атрибутов">
		<GA id="Dictionary" caption="Словарь">
			<A id="CODE"/>
			<A id="NAME"/>
		</GA>
		<GA id="DictionaryNote">
			<A id="CODE"/>
			<A id="NAME"/>
			<A id="NOTE"/>
		</GA>
		<GA id="Document" name="Документ" caption="Документ">
			<A id="DOCTYPEID" caption="Документ" width="40"/>
			<A id="DOCNUMB" caption="Номер" labelwidth="70" width="40"/>
			<A id="DOCDATE" caption="Дата" labelwidth="45" width="20" formula="now()"/>
		</GA>
		<GA id="DocumentP" name="Документ" caption="Документ">
			<A id="DOCTYPEID" labelwidth="90" width="20"/>
			<A id="DOCPREF" caption="Префикс" labelwidth="70" width="20"/>
			<A id="DOCNUMB" caption="Номер" labelwidth="70" width="40"/>
			<A id="DOCDATE" labelwidth="45" width="20" formula="now()"/>
		</GA>
		<GA id="DocumentAutoNumb" name="Документ" caption="Документ">
			<A id="DOCTYPEID" caption="Документ" width="40"/>
			<A id="DOCNUMB" caption="Номер" labelwidth="70" width="40" formula="select coalesce(regexp_replace(max(lpad(docnumb,80,' ')), '[^0-9]', '', 'g')::numeric+1,1) from @TABLENAME where doctypeid=@DOCTYPEID and docpref = @DOCPREF and cid=0"/>
			<A id="DOCDATE" caption="Дата" labelwidth="45" width="20" formula="now()"/>
		</GA>
		<GA id="DocumentAutoNumbP" name="Документ" caption="Документ">
			<A id="DOCTYPEID" labelwidth="90" width="20"/>
			<A id="DOCPREF" caption="Префикс" labelwidth="70" width="20"/>
			<A id="DOCNUMB" caption="Номер" labelwidth="70" width="40" formula="select coalesce(regexp_replace(max(lpad(docnumb,80,' ')), '[^0-9]', '', 'g')::numeric+1,1) from @TABLENAME where doctypeid=@DOCTYPEID and docpref = @DOCPREF and cid=0"/>
			<A id="DOCDATE" labelwidth="45" width="20" formula="now()"/>
		</GA>
		<GA id="FileInformation" name="Сведения о загруженном файле" caption="Сведения о загруженном файле">
			<A id="FILELINKSID" name="Описание файла"/>
			<A id="PRFILEVIRT"/>
			<A id="SIZEVIRT"/>
			<A id="DOCDATEVIRT"/>
		</GA>
		<GA id="ConfigTables">
			<GA>
				<A id="TABLEID" labelwidth="60" width="25" readonly="true"/>
				<A id="TABLENAME" name="Наименование" caption="Наименование" width="75"/>
			</GA>
			<GA>
				<GA name="Панель структуры" caption="Панель структуры" width="30">
					<A id="FOLDERSSIZE" name="Ширина" caption="Ширина" type="int" nulls="false" local="true"/>
					<A id="FOLDERS" name="Показывать" caption="Показывать при открытии" type="boolean" nulls="false" local="true"/>
				</GA>
				<GA name="Грид" caption="Грид" width="40">
					<A id="PAGESIZE" name="Записей на странице" caption="Записей на странице" labelwidth="180" type="int" nulls="false" local="true"/>
					<A id="AUTOWIDTH" name="Автоподбор ширины" caption="Автоподбор ширины колонок" type="boolean" nulls="false" local="true"/>
				</GA>
				<GA name="Панель отборов" caption="Панель отборов" width="30">
					<A id="CONDITIONSSIZE" name="Ширина" caption="Ширина" type="int" nulls="false" local="true"/>
					<A id="CONDITIONS" name="Показывать" caption="Показывать при открытии" type="boolean" nulls="false" local="true"/>
				</GA>
			</GA>
		</GA>
		<GA id="ConfigColumns">
			<GA>
				<A id="COLUMNID" labelwidth="103" width="40" readonly="true"/>
				<A id="COLUMNNAME" name="Наименование" caption="Наименование" width="60"/>
			</GA>
			<GA>
				<A id="POSITION" labelwidth="103" width="40" readonly="true"/>
				<A id="COLUMNTYPE" labelwidth="80" width="40" readonly="true"/>
				<A id="WIDTH" labelwidth="50" width="20"/>
			</GA>
			<GA>
				<A id="FILTER" name="Фильтр" caption="Фильтр:" width="12" type="boolean" nulls="false" value="false" local="true"/>
				<A id="FILTERINFO" name="Настройки фильтра" caption="" width="88" type="string" nulls="true" visible="form" readonly="true" formula="case when @FILTER = 'false' then null else (select b.filterinfo from configcolumnsbuff b where b.id = @ID) end" local="true"/>
			</GA>
			<GA>
				<A id="SORTINFO" name="Сортировка" caption="Сортировка" labelwidth="103" type="list" nulls="false" local="true">
					<AI id="OFF" name="Нет"/>
					<AI id="ASC" name="По возрастанию"/>
					<AI id="DESC" name="По убыванию"/>
				</A>
			</GA>
			<A id="VISIBLE"/>
			<GA array="true">
				<GA name="Условие применения цвета" caption="Условие применения цвета" width="50">
					<A id="VALUEFROM" name="с" caption="с" labelwidth="40" width="50" type="string" nulls="true" local="true"/>
					<A id="VALUETO" name="по" caption="по" labelwidth="17" width="50" type="string" nulls="true" local="true"/>
					<A id="VALUEEQ" name="равно" caption="равно" labelwidth="40" width="100" type="string" nulls="true" local="true"/>
				</GA>
				<GA name="Цвет" caption="Цвет" width="50">
					<A id="FONTCOLOR" name="шрифт" caption="шрифт" labelwidth="43" width="50"/>
					<A id="BGCOLOR" name="фон" caption="фон" labelwidth="30" width="50"/>
					<A id="INROW" name="применить к строке" caption="применить к строке" width="100" type="boolean" nulls="false" local="true"/>
				</GA>
			</GA>
		</GA>
	</GROUPS_ATTRIBUTES>
	<TABLES name="Таблицы">
		<TABLE id="LEVACCESS" name="Уровни доступа" hid="NAME">
			<A id="NAME" nulls="false"/>
			<A id="NOTE"/>
			<TI unique="NAME"/>
		</TABLE>
		<TABLE id="FOLDERS" name="Каталоги" hid="NAME">
			<A id="NAME"/>
			<A id="TABLENAME"/>
		</TABLE>
		<TABLE id="CONDITIONS" name="Отборы" hid="NAME">
			<A id="NAME"/>
			<A id="TABLENAME"/>
			<A id="DATA" name="Данные" caption="Данные" type="text" nulls="true" visible="false" local="true"/>
		</TABLE>
		<TABLE id="DOCLINKS" name="Связи документов">
			<GA name="Входящий документ" caption="Входящий документ">
				<A id="TABLEIN" name="Таблица" caption="Таблица" type="string" nulls="false" local="true"/>
				<A id="KEYIN" name="Идентификатор" caption="Идентификатор" type="bigint" nulls="false" local="true"/>
				<A id="PARENTIN" name="Идентификатор родительской связи" caption="Идентификатор родительской связи" parentkey="cascade" type="ref" table="DOCLINKS" ret="KEYIN" nulls="false" local="true"/>
			</GA>
			<GA name="Исходящий документ" caption="Исходящий документ">
				<A id="TABLEOUT" name="Таблица" caption="Таблица" type="string" nulls="false" local="true"/>
				<A id="KEYOUT" name="Идентификатор" caption="Идентификатор" type="bigint" nulls="false" local="true"/>
				<A id="PARENTOUT" name="Идентификатор родительской связи" caption="Идентификатор родительской связи" parentkey="cascade" type="ref" table="DOCLINKS" ret="KEYOUT" nulls="false" local="true"/>
			</GA>
			<TI id="DOCLINKS_IN_UK" unique="TABLEIN,KEYIN,TABLEOUT,KEYOUT"/>
			<TI id="DOCLINKS_OUT_UK" unique="TABLEOUT,KEYOUT,TABLEIN,KEYIN"/>
		</TABLE>
		<TABLE id="USERS" name="Пользователи">
			<A id="LOGIN"/>
			<A id="PASSWORD"/>
			<A id="NAME" nulls="false"/>
			<GA>
				<A id="PASSWORD_EXPIRE" name="Срок действия пароля" caption="Срок действия пароля" labelwidth="250" width="40" type="date" nulls="true"/>
				<A id="DISABLED" labelwidth="50" width="60"/>
			</GA>
			<A id="LEVACCESSID" caption="Уровень доступа по умолчанию" labelwidth="250"/>
			<GA name="Сотрудник" caption="Сотрудник">
				<A id="FAMILYNAME"/>
				<A id="FIRSTNAME"/>
				<A id="LASTNAME"/>
				<A id="POST"/>
				<A id="PHONE"/>
				<A id="EMAIL"/>
			</GA>
			<TI id="USERS_LOGIN_UK" unique="LOGIN"/>
			<TI id="USERS_NAME_UK" unique="NAME"/>
		</TABLE>
		<TABLE id="USERROLES" name="Назначение ролей">
			<A id="USERID" parentkey="cascade"/>
			<A id="ROLEID"/>
			<A id="LEVACCESSVIRT" name="Уровень доступа" caption="Уровень доступа" type="string" visible="grid" virtual="true" formula="select a.name from roles r, levaccess a where r.id = @ROLEID and r.levaccessid = a.id" local="true"/>
			<A id="DISABLEDVIRT" name="Запись заблокирована" caption="Запись заблокирована" type="boolean" visible="grid" virtual="true" formula="select r.disabled from roles r where r.id = @ROLEID" local="true"/>
			<TI unique="USERID,ROLEID"/>
		</TABLE>
		<TABLE id="METACLASS" name="Классы метаданных" hid="NAME">
			<A id="NUMB" name="Идентификатор" caption="Идентификатор" type="int" nulls="false" visible="false" value="0" local="true"/>
			<A id="POSITION"/>
			<A id="CLASSNODE"/>
			<A id="CODE" nulls="true"/>
			<A id="NAME"/>
			<A id="NAMEVIRT" name="Наименование метакласса" type="string" visible="false" virtual="true" formula="coalesce(@NAME,@CODE)" local="true"/>
			<TI unique="HID,CLASSNODE,CODE"/>
			<TI id="METACLASS_NUMB_IND" index="NUMB"/>
			<TI id="METACLASS_CODE_IND" index="CLASSNODE,CODE"/>
			<TI id="METACLASS_NAME_IND" index="CLASSNODE,NAME"/>
		</TABLE>
		<TABLE id="METACLASSPROPS" name="Свойства метаданных">
			<A id="METACLASSID" parentkey="cascade"/>
			<A id="PROPNODE"/>
			<A id="STRVALUE"/>
			<TI unique="METACLASSID,PROPNODE"/>
		</TABLE>
		<TABLE id="UNITS" name="Объекты доступа" hid="NAME">
			<A id="CLASSNODE" name="Тип" caption="Тип" labelwidth="110" type="list" nulls="false" local="true">
				<AI id="SYSTEM" name="Система" actionlist="units_regaccess;units_noregaccess;units_clean"/>
				<AI id="MODULES" name="Модули" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="MODULE" name="Модуль" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="GROUPS_MENU" name="Группы меню" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="MENU" name="Меню" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="MI" name="Пункт меню" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="ATTRIBUTES" name="Атрибуты" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="A" name="Атрибут" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="AI" name="Значение атрибута" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="GROUPS_ATTRIBUTES" name="Группы атрибутов" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="GA" name="Группа атрибутов" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="TABLES" name="Таблицы" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="TABLE" name="Таблица" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="TI" name="Табличный индекс" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="ACTIONS" name="Действия" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="ACTION" name="Действие" actionlist="units_regaccess;units_noregaccess;units_clean"/>
				<AI id="FORMS" name="Формы" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="FORM" name="Форма" actionlist="units_clean"/>
				<AI id="GRID" name="Грид" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="RECORD" name="Запись" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="TABS" name="Страницы" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="TAB" name="Страница" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="REPORTS" name="Отчеты" actionlist="units_clean" readonly="REGACCESS"/>
				<AI id="REPORT" name="Отчет" actionlist="units_regaccess;units_noregaccess;units_clean"/>
				<AI id="COMMENT" name="Коментарий" actionlist="units_clean" readonly="REGACCESS"/>
			</A>
			<A id="CODE" labelwidth="110"/>
			<A id="NAME" labelwidth="110"/>
			<A id="METACLASSID" labelwidth="110"/>
			<A id="REGACCESS" name="Регистрация доступа" caption="Регистрация доступа" labelwidth="110" type="boolean" nulls="false" value="false"/>
			<TI unique="HID,CLASSNODE,CODE"/>
		</TABLE>
		<TABLE id="ROLES" name="Роли">
			<A id="NAME" nulls="false"/>
			<A id="LEVACCESSID" width="74"/>
			<A id="DISABLED" width="26"/>
			<A id="NOTE"/>
			<TI unique="NAME"/>
		</TABLE>
		<TABLE id="ROLEPRIVS" name="Права доступа" hid="UNITID_ret">
			<A id="ROLEID" parentkey="cascade"/>
			<A id="UNITID" nulls="false"/>
			<A id="CLASSNODE" name="Тип" caption="Тип" labelwidth="300" nulls="true" visible="grid" readonly="true" virtual="true" formula="select u.classnode from units u where u.id = @UNITID"/>
			<A id="ACCESS"/>
			<TI unique="ROLEID,HID,UNITID"/>
		</TABLE>
		<TABLE id="REGSESSIONS" name="Журнал регистрации сессий">
			<A id="USERID"/>
			<A id="CLIENT" name="IP-адрес" caption="IP-адрес" type="string"/>
			<A id="LOGIN" name="Время входа" caption="Время входа" width="50" type="datetime" local="true"/>
			<A id="LOGOUT" name="Время выхода" caption="Время выхода" width="50" type="datetime" local="true"/>
			<A id="STATUS" name="Статус" caption="Статус" type="list" value="0" local="true">
				<AI id="0" name="Открыта"/>
				<AI id="1" name="Завершена"/>
				<AI id="2" name="Отказано"/>
			</A>
			<TI unique="USERID,LOGIN"/>
		</TABLE>
		<TABLE id="REGUNITACCESS" name="Журнал регистрации доступа">
			<A id="USERID" labelwidth="130"/>
			<A id="REGTIME" name="Время доступа" caption="Время доступа" labelwidth="130" type="datetime" local="true"/>
			<A id="OBJECTNAME" name="Объект в базе данных" caption="Объект в базе данных" labelwidth="130" type="string" local="true"/>
			<A id="UNITID" name="Действие" caption="Действие" labelwidth="130"/>
			<A id="PARAMS" name="Параметры" caption="Параметры" labelwidth="130" type="text" local="true"/>
			<A id="RESULT" name="Результат" caption="Результат" labelwidth="130" type="string" local="true"/>
			<A id="ERRORMSG" name="Сообщение об ошибке" caption="Сообщение об ошибке" labelwidth="130" type="text" nulls="true" local="true"/>
			<A id="STATUS" name="Статус" caption="Статус" labelwidth="130" type="list" value="0" local="true">
				<AI id="0" name="Выполнено"/>
				<AI id="1" name="Ошибка"/>
				<AI id="2" name="Отказано"/>
			</A>
			<TI unique="UNITID,OBJECTNAME,USERID,REGTIME"/>
		</TABLE>
		<TABLE id="OPTIONS" name="Параметры системы">
			<GA id="Dictionary"/>
			<A id="STRVALUE"/>
			<A id="NUMVALUE"/>
			<A id="DATVALUE"/>
			<TI unique="CODE"/>
		</TABLE>
		<TABLE id="DOCTYPES" name="Типы документов">
			<GA id="Dictionary"/>
			<TI unique="CODE"/>
		</TABLE>
		<TABLE id="FILELINKS" name="Файлы">
			<A id="DESCRIPTION" name="Описание файла" nulls="true"/>
			<A id="FILENAME" name="Имя файла" caption="Имя файла" labelwidth="200" type="string" nulls="true" readonly="true" local="true"/>
			<A id="SIZE" name="Размер файла" caption="Размер файла (МБ)" labelwidth="300" type="int" nulls="true" readonly="true" value="0" local="true"/>
			<A id="DOCDATE" name="Дата создания файла" caption="Дата создания файла" labelwidth="500" type="date" nulls="true" readonly="true" local="true"/>
		</TABLE>
		<TABLE id="FILEINPUT" name="Файлы входящие">
			<GA id="FileInformation"/>
		</TABLE>
		<TABLE id="FILEOUTPUT" name="Файлы исходящие">
			<GA id="FileInformation"/>
		</TABLE>
		<TABLE id="CONFIGTABLESBUFF" name="Настройки интерфейса таблиц (буфер)" query="select * from configtablesbuff where userid = @UID">
			<A id="USERID" parentkey="cascade" visible="false"/>
			<GA id="ConfigTables"/>
			<GA caption="Запрос">
				<A id="GRIDQUERY" name="Запрос" type="text" nulls="true" readonly="true"/>
			</GA>
			<TI unique="USERID,TABLEID"/>
		</TABLE>
		<TABLE id="CONFIGCOLUMNSBUFF" name="Настройки интерфейса колонок (буфер)">
			<A id="CONFIGTABLESBUFFID" parentkey="cascade"/>
			<GA id="ConfigColumns"/>
			<TI unique="CONFIGTABLESBUFFID,COLUMNID"/>
		</TABLE>
		<TABLE id="CONFIGTABLES" name="Настройки интерфейса таблиц">
			<A id="USERID" labelwidth="130" parentkey="cascade"/>
			<GA id="ConfigTables"/>
			<TI unique="USERID,TABLEID"/>
		</TABLE>
		<TABLE id="CONFIGCOLUMNS" name="Настройки интерфейса колонок">
			<A id="CONFIGTABLESID" parentkey="cascade"/>
			<GA id="ConfigColumns"/>
			<TI unique="CONFIGTABLESID,COLUMNID"/>
		</TABLE>
		<TABLE id="CONCEPTS" name="Конвертер: Форматы обмена данными">
			<A id="NAME" nulls="false"/>
			<GA>
				<A id="FORMAT" name="Формат" caption="Формат" width="70" type="list" nulls="false" local="true">
					<AI id="xls" name="Книга Excel"/>
					<AI id="xml" name="Файл XML"/>
					<AI id="json" name="Файл JSON"/>
					<AI id="txtsep" name="Текстовый файл с разделителями"/>
					<AI id="txtfix" name="Текстовый файл с полями фиксированной длины"/>
				</A>
				<A id="CODEPAGE" name="Кодовая страница" caption="Кодовая страница" labelwidth="120" width="30" type="list" nulls="false" value="UTF-8" local="true">
					<AI id="UTF-8" name="UTF-8"/>
					<AI id="WIN-1251" name="WIN-1251"/>
					<AI id="WIN-866" name="WIN-866"/>
				</A>
			</GA>
			<TI id="CONCEPTS_NAME_UK" unique="NAME"/>
		</TABLE>
		<TABLE id="CONCEPTITEMS" name="Конвертер: Форматы обмена данными (элементы)" hid="CODE">
			<A id="CONCEPTID" parentkey="cascade"/>
			<A id="POSITION" labelwidth="150" formula="select coalesce(max(position)+1,1) from conceptitems where conceptid=@CONCEPTID and hid is null and @HID is null or hid=@HID and cid=0"/>
			<A id="CODE" name="Идентификатор" caption="Идентификатор" labelwidth="150"/>
			<A id="NAME" labelwidth="150" nulls="false"/>
			<GA>
				<A id="ITEM_TYPE" name="Тип элемента" caption="Тип элемента" labelwidth="150" width="90" type="list" nulls="false" readonly="true" formula="P_SYSTEM_CONCEPTITEMS_GET_TYPE(@CONCEPTID, @HID, @ATTR)" local="true">
					<AI id="xlssheet" name="Страница Excel"/>
					<AI id="xlscol" name="Колонка Excel"/>
					<AI id="xmlnode" name="Таг XML"/>
					<AI id="xmlattr" name="Атрибут XML"/>
					<AI id="jsonobj" name="Объект JSON"/>
					<AI id="jsonkey" name="Ключ JSON"/>
					<AI id="txtrow" name="Строка текстового файла"/>
					<AI id="txtcol" name="Поле текстового файла"/>
				</A>
				<A id="ATTR" name="Подтип" caption="Подтип" width="10" type="boolean" nulls="false" value="false" local="true"/>
			</GA>
			<TI id="CONCEPTITEMS_CODE_UK" unique="CONCEPTID, CODE, HID, ITEM_TYPE"/>
		</TABLE>
		<TABLE id="CONV" name="Конвертер: Алгоритмы загрузки">
			<A id="NAME" nulls="false"/>
			<A id="CONCEPTID"/>
			<TI id="CONV_NAME_UK" unique="NAME"/>
		</TABLE>
		<TABLE id="CONVACTS" name="Конвертер: Алгоритмы загрузки (действия)">
			<A id="CONVID" parentkey="cascade"/>
			<A id="CONCEPTID" visible="false" virtual="true" formula="select conceptid from conv where id=@CONVID"/>
			<GA>
				<A id="POSITION" name="Порядок" caption="Порядок" labelwidth="90" width="24" formula="select coalesce(max(position)+1,1) from convacts where convid=@CONVID and hid is null and @HID is null or hid=@HID and cid=0"/>
				<A id="CONCEPTITEMID" name="Таблица формата" caption="Таблица формата" labelwidth="110" width="76" formula="select min(ci.id) from conv c, conceptitems ci where c.id=@CONVID and c.conceptid = ci.conceptid and ci.cid=0"/>
			</GA>
			<GA name="Действие" caption="Действие">
				<A id="CONVUNITTYPE" name="Тип объекта" caption="Тип объекта" labelwidth="80" width="20" type="list" nulls="false" value="table" local="true">
					<AI id="table" name="Таблица"/>
					<AI id="procedure" name="Процедура" readonly="CONVACTION"/>
				</A>
				<A id="CONVUNIT" name="Наименование" caption="Наименование" labelwidth="90" width="80" type="list" nulls="false" query="select upper(tablename) as id, (select coalesce(upper(tablename)||' - '||max(m.name),upper(tablename)) from metaclass m where m.classnode='TABLE' and m.code=upper(tablename)) as code from pg_tables where schemaname = 'public' and @CONVUNITTYPE = 'table' union all select upper(p.proname) as id, (select coalesce(upper(p.proname)||' - '||max(m.name),upper(p.proname)) from metaclass m, metaclassprops mp where m.classnode='ACTION' and m.id = mp.metaclassid and mp.propnode='procedure' and lower(mp.strvalue)=p.proname) as code from pg_proc p, pg_namespace s where p.pronamespace = s.oid and s.nspname='public' and @CONVUNITTYPE = 'procedure'" local="true"/>
				<A id="CONVACTION" name="Способ выполнения" caption="Способ выполнения" labelwidth="130" type="list" nulls="false" value="Insert" local="true">
					<AI id="Insert" name="Добавить, если нет записи"/>
					<AI id="Update" name="Исправить, если есть запись"/>
					<AI id="UpdateNotNull" name="Исправить, ошибка если нет записи"/>
					<AI id="Delete" name="Удалить, если есть запись"/>
					<AI id="Select" name="Поиск записи"/>
					<AI id="SelectNotNull" name="Поиск, ошибка если нет записи"/>
				</A>
			</GA>
			<GA name="" caption="Условие выполнения">
				<A id="CONDITION_FORMULA" name="Условие выполнения" caption="" labelwidth="80" type="text" nulls="true" local="true"/>
			</GA>
			<GA caption="Примечание">
				<A id="NOTE" name="Примечание" caption="" labelwidth="80"/>
			</GA>
			<TI id="CONVACTS_UK" unique="CONVID,POSITION"/>
		</TABLE>
		<TABLE id="CONVACTPARAMS" name="Конвертер: Алгоритмы загрузки (параметры)">
			<A id="CONVACTID" parentkey="cascade"/>
			<A id="CONVID" visible="false" virtual="true" formula="select a.convid from convacts a where a.id=@CONVACTID"/>
			<A id="CONCEPTID" visible="false" virtual="true" formula="select n.conceptid from conv n, convacts a where a.id=@CONVACTID and a.convid=n.id"/>
			<A id="CODEVIRT" name="Наименование параметра" type="string" visible="false" virtual="true" formula="select ''||a.position||'.'||@CODE from convacts a where a.id=@CONVACTID" local="true"/>
			<GA name="Параметр" caption="Параметр">
				<A id="POSITION" name="Порядок" caption="Порядок" readonly="true"/>
				<A id="CODE" readonly="true"/>
				<A id="NAME" type="string" readonly="true"/>
				<GA>
					<A id="PARAMTYPE" name="Тип" caption="Тип" width="44" type="list" readonly="true" local="true">
						<AI id="field" name="Поле"/>
						<AI id="virtual" name="Виртуальное поле"/>
						<AI id="in" name="Входной"/>
						<AI id="out" name="Выходной"/>
						<AI id="inout" name="Входной/выходной"/>
					</A>
					<A id="DATATYPE" name="Тип данных" caption="Тип данных" labelwidth="85" width="44" type="list" readonly="true" local="true">
						<AI id="varchar" name="Строка"/>
						<AI id="int" name="Целое число"/>
						<AI id="numeric" name="Действительное число"/>
						<AI id="date" name="Дата"/>
						<AI id="timestamp without time zone" name="Дата и время"/>
						<AI id="boolean" name="Логическое"/>
						<AI id="bigint" name="Ссылка"/>
						<AI id="bigserial" name="Первичный ключ"/>
						<AI id="xml" name="Формат XML"/>
						<AI id="json" name="Формат JSON"/>
						<AI id="bytea" name="Файл"/>
					</A>
					<A id="DATANOTNULL" name="Обязательное" caption="Обязательное" labelwidth="93" width="6" type="list" readonly="true" local="true">
						<AI id="no" name="Нет"/>
						<AI id="yes" name="Да"/>
					</A>
					<A id="DATAARRAY" name="Массив" caption="Массив" labelwidth="50" width="6" type="list" readonly="true" local="true">
						<AI id="no" name="Нет"/>
						<AI id="yes" name="Да"/>
					</A>
					<GA>
						<A id="REF_TABLE" name="Таблица" caption="Таблица ссылки" labelwidth="100" width="31" type="string" visible="form" readonly="true" local="true">
							<AI id="" name="Пусто" readonly="VALUE_KEYOUT"/>
						</A>
						<A id="REF_RET" name="Поле возврата" caption="Поле возврата" labelwidth="85" width="31" type="string" visible="form" readonly="true" local="true"/>
						<A id="REF_PID" name="Родительское поле" caption="Родительское поле" labelwidth="130" width="38" type="string" visible="form" readonly="true" local="true"/>
						<A id="REF_PID_REF" name="Родительское поле в таблице" caption="Родительское поле в таблице" labelwidth="150" width="100" type="string" visible="false" local="true"/>
					</GA>
					<A id="LIST_VALUES" name="Список значений" caption="Список значений" labelwidth="100" type="string" visible="false" local="true"/>
					<A id="LIST_QUERY" name="Запрос списка значений" caption="Запрос списка значений" labelwidth="130" type="string" visible="false" local="true"/>
				</GA>
			</GA>
			<GA name="Источник значения" caption="Источник значения">
				<A id="VALUE_CONCEPT" name="Элемент формата" caption="Элемент формата" labelwidth="150" type="ref" pid="CONCEPTID" table="CONCEPTITEMS" ret="NAME" nulls="true" local="true"/>
				<A id="VALUE_PARAM" name="Параметр действия" caption="Параметр действия" labelwidth="150" type="ref" pid="CONVID" table="CONVACTPARAMS" ret="CODEVIRT" form="ConvActs" nulls="true" local="true"/>
				<A id="VALUE_DEFAULT" name="Значение по умолчанию" caption="Значение по умолчанию" labelwidth="150" type="string" nulls="true" local="true"/>
			</GA>
			<GA name="Обработка значения" caption="Формула">
				<A id="VALUE_FORMULA" name="Формула" caption="" width="100" type="text" nulls="true" local="true"/>
				<A id="VALUE_TRIM" name="Удалить пробелы" caption="Удалить крайние пробелы" width="50" type="boolean" local="true"/>
				<A id="VALUE_KEYOUT" name="Внешний ключ" caption="Найти индентификатор по значению внешнего ключа" width="50" type="boolean" local="true"/>
			</GA>
			<GA caption="Ключи поиска записи">
				<A id="VALUE_KEY" name="Ключ поиска записи" caption="Входит в ключ поиска записи" type="boolean" array="true" local="true"/>
			</GA>
			<TI id="CONVACTPARAMS_UK" unique="CONVACTID,CODE"/>
		</TABLE>
		<TABLE id="CONVLOADS" name="Конвертер: Процессы загрузки">
			<GA name="Процесс" caption="Процесс">
				<A id="CONVID" width="40"/>
				<A id="NUMB" name="Идентификатор" caption="Идентификатор" width="60" type="int" formula="select coalesce(max(numb)+1,1)::int from convloads where convid=@CONVID and cid=0" local="true"/>
			</GA>
			<GA name="Состояние" caption="Состояние">
				<A id="STATUS" name="Статус" caption="Статус" width="46" type="list" nulls="false" readonly="true" value="0" local="true">
					<AI id="0" name="Не выполнялся"/>
					<AI id="1" name="Подготовлен"/>
					<AI id="2" name="Выполнен"/>
					<AI id="3" name="Ошибка"/>
				</A>
				<A id="LOADDATE" name="Дата и время выполнения" caption="Дата и время выполнения" labelwidth="160" width="54" type="datetime" nulls="true" readonly="true" local="true"/>
				<A id="ERRORMSG" name="Сообщение об ошибке" caption="Сообщение об ошибке" width="100" type="text" nulls="true" readonly="true" local="true"/>
			</GA>
			<A id="ERRORONE" name="До первой ошибки" caption="Прерывать работу при первой ошибке" type="boolean" value="true" local="true"/>
			<GA id="FileInformation"/>
			<A id="FILENAME" name="Имя файла" caption="Имя файла" width="100" type="text" nulls="true" visible="false" local="true"/>
			<TI id="CONVLOADS_NUMB_UK" unique="CONVID,NUMB"/>
		</TABLE>
		<TABLE id="CONVLOADACTS" name="Конвертер: Буфер выполнения (действия)" hid="CONVACTNAMEVIRT">
			<A id="CONVLOADID" parentkey="cascade"/>
			<A id="CONCEPTID" visible="false" virtual="true" formula="select c.conceptid from convloads l, conv c where l.id=@CONVLOADID and l.convid = c.id"/>
			<GA name="Формат" caption="Формат">
				<A id="POSITION" name="Экземпляр" caption="Экземпляр" labelwidth="80" width="20"/>
				<A id="CONCEPTITEMID" name="Элемент" caption="Элемент" labelwidth="90" width="80"/>
			</GA>
			<A id="CONVID" visible="false" virtual="true" formula="select convid from convloads where id=@CONVLOADID"/>
			<GA name="Действие" caption="Действие">
				<A id="CONVACTPOSITIONVIRT" name="Порядок" caption="Порядок" labelwidth="80" width="20" type="string" nulls="true" readonly="false" virtual="true" formula="select a.position from convacts a where a.id=@CONVACTID" local="true"/>
				<A id="CONVACTID" name="Наименование" caption="Наименование" labelwidth="90" width="80"/>
				<A id="CONVACTNAMEVIRT" name="Наименование действия" labelwidth="100" type="string" nulls="true" visible="false" readonly="true" virtual="true" formula="select lpad(@POSITION ::text,5,' ')||'.'||c.code||' ['||lpad(a.position ::text,2,' ')||'.'||a.convunit||']' from convacts a, conceptitems c where a.conceptitemid = c.id and a.id=@CONVACTID" local="true"/>
				<A id="CONVACTIONVIRT" name="Способ выполнения" caption="Способ выполнения" labelwidth="120" type="list" nulls="false" readonly="false" virtual="true" formula="select a.convaction from convacts a where a.id=@CONVACTID" local="true">
					<AI id="Insert" name="Добавить, если нет записи"/>
					<AI id="Update" name="Исправить, если есть запись"/>
					<AI id="UpdateNotNull" name="Исправить, ошибка если нет записи"/>
					<AI id="Delete" name="Удалить, если есть запись"/>
					<AI id="Select" name="Поиск записи"/>
					<AI id="SelectNotNull" name="Поиск, ошибка если нет записи"/>
				</A>
			</GA>
			<GA name="Условие выполнения" caption="Условие выполнения">
				<A id="CONDITION_FORMULA" name="Формула" caption="Формула" labelwidth="80" type="text" nulls="true" local="true"/>
				<A id="CONDITION" name="Результат" caption="Результат" labelwidth="80" type="list" nulls="true" local="true">
					<AI id="true" name="Да"/>
					<AI id="false" name="Нет"/>
				</A>
			</GA>
			<GA name="Состояние" caption="Состояние">
				<GA>
					<A id="STATUS" name="Статус" caption="Статус" labelwidth="80" width="50" type="list" nulls="false" readonly="true" value="0" local="true">
						<AI id="0" name="Не выполнялся"/>
						<AI id="1" name="Пропущен"/>
						<AI id="2" name="Выполнен"/>
						<AI id="3" name="Ошибка"/>
					</A>
					<A id="RECCOUNT" name="Количество записей" caption="Количество записей" labelwidth="130" width="50" type="int" nulls="false" readonly="true" value="0"/>
				</GA>
				<A id="ERRORMSG" name="Сообщение об ошибке" caption="Сообщение об ошибке" labelwidth="80" type="text" nulls="true" readonly="true" local="true"/>
			</GA>
			<TI id="CONVLOADACTS_UK" unique="CONVLOADID,CONCEPTITEMID,POSITION,CONVACTID"/>
		</TABLE>
		<TABLE id="CONVLOADACTPARAMS" name="Конвертер: Буфер выполнения (параметры)">
			<A id="CONVLOADACTID" parentkey="cascade"/>
			<A id="CONVID" visible="false" virtual="true" formula="select t.convid from convloads t, convloadacts a where a.id=@CONVLOADACTID and a.CONVLOADID = t.ID"/>
			<A id="CONVLOADID" visible="false" virtual="true" formula="select convloadid from convloadacts where id=@CONVLOADACTID"/>
			<A id="CONVACTID" visible="false" virtual="true" formula="select convactid from convloadacts where id=@CONVLOADACTID"/>
			<GA name="Параметр" caption="Параметр">
				<A id="CONVACTPARAMPOSITIONVIRT" name="Порядок" caption="Порядок" labelwidth="90" type="string" nulls="true" readonly="true" virtual="true" formula="select p.position from convactparams p where p.id = @CONVACTPARAMID" local="true"/>
				<A id="CONVACTPARAMID" name="Код" caption="Код" labelwidth="90"/>
				<A id="CONVACTPARAMNAMEVIRT" name="Наименование" caption="Наименование" labelwidth="90" type="string" nulls="true" readonly="true" virtual="true" formula="select p.name from convactparams p where p.id = @CONVACTPARAMID" local="true"/>
			</GA>
			<GA name="Значение" caption="Значение">
				<A id="STRVALUE_LOAD" name="Из файла/параметра" caption="Из файла или параметра действия" labelwidth="90" type="text"/>
				<A id="VALUE_FORMULA" name="Формула" caption="Формула" labelwidth="90" type="text" nulls="true" local="true"/>
				<A id="STRVALUE" name="Результат" caption="Результат" labelwidth="90" type="text"/>
			</GA>
			<A id="VALUE_KEY" name="Ключ поиска записи" caption="Входит в ключ поиска записи" type="string" visible="grid" virtual="true" formula="select replace(replace(replace(replace(p.value_key::text,'{',''),'}',''),'f','Нет'),'t','Да') from convactparams p where p.id = @CONVACTPARAMID" local="true"/>
			<TI id="CONVLOADACTPARAMS_UK" unique="CONVLOADACTID,CONVACTPARAMID"/>
		</TABLE>
		<TABLE id="CONVKEYS" name="Конвертер: Внешние ключи">
			<GA name="Внутренний ключ" caption="Внутренний ключ">
				<A id="TABLENAMEIN" name="Таблица" caption="Таблица" type="string" nulls="true" local="true"/>
				<A id="KEYIN" name="Значение" caption="Значение" type="string" nulls="true" local="true"/>
			</GA>
			<GA name="Внешний ключ" caption="Внешний ключ">
				<A id="TABLENAMEOUT" name="Таблица" caption="Таблица" type="string" nulls="true" local="true"/>
				<A id="KEYOUT" name="Значение" caption="Значение" type="string" nulls="true" local="true"/>
			</GA>
			<TI id="CONVKEYS_UK" unique="TABLENAMEIN,KEYOUT,KEYIN"/>
		</TABLE>
	</TABLES>
	<ACTIONS name="Действия">
		<ACTION id="Insert" name="Добавить" type="java">
			<FORM>
				<RECORD/>
			</FORM>
		</ACTION>
		<ACTION id="Copy" name="Размножить" type="java">
			<FORM>
				<RECORD/>
			</FORM>
		</ACTION>
		<ACTION id="Update" name="Исправить" type="java">
			<FORM>
				<RECORD/>
			</FORM>
		</ACTION>
		<ACTION id="View" name="Посмотреть" type="java">
			<FORM>
				<RECORD/>
			</FORM>
		</ACTION>
		<ACTION id="Delete" name="Удалить" type="java"/>
		<ACTION id="MoveFolder" name="Переместить" type="java"/>
		<ACTION id="ConfigLoad" name="Загрузить конфигурацию системы" type="procedure" procedure="p_system_load_config">
			<FORM>
				<A id="BFILE" ext="xml" nulls="false"/>
			</FORM>
		</ACTION>
		<ACTION id="ConfigExportProc" name="Выгрузить конфигурацию системы" type="procedure" procedure="p_system_export_config">
			<FORM>
				<A id="NUMB" name="Конфигурация" caption="Конфигурация" type="list" nulls="false" query="select mp.propnode as id, mp.strvalue as code from metaclass m, metaclassprops mp where m.classnode='SYSTEM' and m.id=mp.metaclassid order by cast(mp.propnode as int)" local="true"/>
			</FORM>
		</ACTION>
		<ACTION id="ConfigExport" name="Выгрузить конфигурацию системы" type="script" actionlist="ConfigExportProc;LoadFileFromFilebuffer"/>
		<ACTION id="ConfigDrop" name="Удалить конфигурацию системы" type="procedure" procedure="p_system_drop_config">
			<FORM>
				<A id="NUMB" name="Конфигурация" caption="Конфигурация" type="list" nulls="false" query="select mp.propnode as id, mp.strvalue as code from metaclass m, metaclassprops mp where m.classnode='SYSTEM' and m.id=mp.metaclassid and mp.propnode not in ('0','1') order by cast(mp.propnode as int)" local="true"/>
				<A id="DROP_TABLES" name="Удалить таблицы конфигурации" caption="Удалить таблицы конфигурации. Восстановление данных невозможно!!!" labelwidth="100" type="boolean" local="true"/>
			</FORM>
		</ACTION>
		<ACTION id="uploadReports" name="Загрузить шаблоны отчетов" type="java">
			<FORM>
				<A id="BFILE" array="true" nulls="false"/>
			</FORM>
		</ACTION>
		<ACTION id="PasswordChange" name="Изменить пароль" type="procedure" procedure="p_system_user_password_change">
			<FORM>
				<A id="PASSWORD_OLD" name="Старый пароль" caption="Старый пароль" labelwidth="180" type="hidetext" len="240" nulls="false"/>
				<A id="PASSWORD_NEW" name="Новый пароль" caption="Новый пароль" labelwidth="180" type="hidetext" len="240" nulls="false"/>
				<A id="PASSWORD2_NEW" name="Новый пароль(подтвердить)" caption="Новый пароль(подтвердить)" labelwidth="180" type="hidetext" len="240" nulls="false"/>
			</FORM>
		</ACTION>
		<ACTION id="PasswordChangeExit" name="Изменить пароль" type="script" actionlist="PasswordChange;Exit"/>
		<ACTION id="Exit" name="Выйти из системы" type="link" href="doLogout"/>
		<ACTION id="HelpAdmin" name="Руководство Администратора" type="link" href="help/admin" visible="window"/>
		<ACTION id="Yandex" name="Перейти на yandex.ru" type="link" href="http://yandex.ru"/>
		<ACTION id="roleprivs_access" name="Разрешить доступ" type="procedure" procedure="p_system_roleprivs_access_1"/>
		<ACTION id="roleprivs_noaccess" name="Запретить доступ" type="procedure" procedure="p_system_roleprivs_access_0"/>
		<ACTION id="units_regaccess" name="Включить регистрацию доступа" type="procedure" procedure="p_system_units_regaccess_1"/>
		<ACTION id="units_noregaccess" name="Отключить регистрацию доступа" type="procedure" procedure="p_system_units_regaccess_0"/>
		<ACTION id="units_clean" name="Удалить объекты без метаданных" type="procedure" procedure="p_system_units_clean">
			<FORM>
				<A id="REMOVE" caption="Удалить каскадно из назначения прав" type="boolean" nulls="false" value="true" local="true"/>
			</FORM>
		</ACTION>
		<ACTION id="transaction_clear" name="Очистка таблиц от транзакционных записей по расписанию" schedule_period="0" schedule_start="15" type="procedure" procedure="p_system_transaction_clear"/>
		<ACTION id="setLID" name="Установить уровень доступа" type="procedure" procedure="p_system_set_levaccess">
			<FORM>
				<A id="LEVACCESSID"/>
				<A id="ALLRECORD" caption="Все записи" type="boolean"/>
			</FORM>
		</ACTION>
		<ACTION id="uploadFilelinks" name="Загрузить файл" type="java">
			<FORM>
				<A id="BFILE"/>
			</FORM>
		</ACTION>
		<ACTION id="addFilelinks" name="Добавить файл" type="java">
			<FORM>
				<A id="BFILE"/>
			</FORM>
		</ACTION>
		<ACTION id="loadFilelinks" name="Открыть файл" type="java"/>
		<ACTION id="allFilelinks" name="Загрузить и открыть файл" actionlist="uploadFilelinks;loadFilelinks"/>
		<ACTION id="FilelinksToFilebuffer" name="Загрузить файл в таблицу" type="java"/>
		<ACTION id="FilebufferToFilelinks" name="Выгрузить файл из таблицы" type="java"/>
		<ACTION id="LoadFileFromFilebuffer" name="Открыть файл из таблицы" type="java"/>
		<ACTION id="ConfigTables" name="Настройка" type="procedure" formlist="ConfigTablesBuff" procedure="p_system_configtables_save"/>
		<ACTION id="ConceptLoad" name="Создать формат по образцу файла" type="procedure" procedure="p_system_concept_load">
			<FORM>
				<A id="BFILE" nulls="false"/>
			</FORM>
		</ACTION>
		<ACTION id="convactparams_fill" name="Обновить список параметров" type="procedure" procedure="p_system_convactparams_fill"/>
		<ACTION id="ConvLoadsClear" name="Очистить буфер выполнения" type="procedure" procedure="p_system_convloads_clear"/>
		<ACTION id="ConvLoadsUploadFile" name="Загрузить файл" type="script" actionlist="uploadFilelinks;ConvLoadsClear"/>
		<ACTION id="ConvPrepare" name="Подготовить буфер конвертации" type="procedure" procedure="p_system_convloads_prepare"/>
		<ACTION id="ConvLoadsPrepare" name="Подготовить буфер выполнения" type="script" actionlist="FilelinksToFilebuffer;ConvPrepare"/>
		<ACTION id="ConvLoadsStart" name="Выполнить конвертацию" type="procedure" procedure="p_system_convloads_start"/>
		<ACTION id="ConfigTablesCopy" name="Копирование настроек пользователя" type="procedure" procedure="p_system_configtables_copy">
			<FORM>
				<A id="USERID_FROM" name="Пользователь (от кого)" caption="Пользователь (от кого)" labelwidth="150" type="ref" table="USERS" ret="LOGIN" form="Users" nulls="false" local="true"/>
				<A id="USERID_TO" name="Пользователь (кому)" caption="Пользователь (кому)" labelwidth="150" type="ref" table="USERS" ret="LOGIN" form="Users" array="true" nulls="false" local="true"/>
			</FORM>
		</ACTION>
		<ACTION id="ConvertFile" name="Конвертировать файл" type="procedure" procedure="p_system_file_convert"/>
		<ACTION id="LoadAndConvertFile" name="Загрузить и конвертировать файл" type="procedure" procedure="p_system_file_convert">
			<FORM>
				<A id="BFILE" nulls="false"/>
			</FORM>
		</ACTION>
		<ACTION id="LoadFileOptions" name="Загрузить параметры" type="script" actionlist="LoadAndConvertFile">
			<P id="convname" value="test_excel"/>
			<P id="errorone" value="false"/>
		</ACTION>
	</ACTIONS>
	<REPORTS name="Отчеты">
		<REPORT id="MetaClassReport" name="Отчет по метаданным" procedure="" template="meta_report.xlsx"/>
	</REPORTS>
	<FORMS id="Forms" name="Формы">
		<FORM id="Users" name="Пользователи">
			<GRID id="Users" name="Пользователи" table="USERS"/>
			<GRID id="UsersRoles" name="Назначение ролей" table="USERROLES"/>
		</FORM>
		<FORM id="LevAccess" name="Уровни доступа">
			<GRID id="LevAccess" name="Уровни доступа" table="LEVACCESS"/>
		</FORM>
		<FORM id="MetaClass" name="Классы метаданных">
			<GRID id="MetaClass" name="Классы метаданных" table="METACLASS" actionlist="ConfigLoad" reportlist="MetaClassReport" readonly="true">
				<MENU>
					<MI actionlist="View">
						<FORM>
							<RECORD/>
							<GRID id="MetaClassProps" name="Свойства метаданных" table="METACLASSPROPS" readonly="true">
								<MENU>
									<MI actionlist="View;ConfigTables"/>
								</MENU>
							</GRID>
						</FORM>
					</MI>
					<MI actionlist="ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="Units" name="Объекты доступа">
			<GRID id="Units" name="Объекты доступа" table="UNITS" actionlist="units_regaccess;units_noregaccess;units_clean" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="Roles" name="Роли">
			<GRID id="Roles" name="Роли" table="ROLES" readonly="true">
				<MENU>
					<MI actionlist="Insert;Update;View;Delete;MoveFolder;ConfigTables"/>
				</MENU>
			</GRID>
			<GRID id="RoleProvs" name="Права доступа" table="ROLEPRIVS" readonly="true">
				<MENU>
					<MI actionlist="roleprivs_access;roleprivs_noaccess;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="Filelinks" name="Файлы загруженные">
			<GRID id="Filelinks" name="Файлы" table="FILELINKS" actionlist="uploadFilelinks;loadFilelinks"/>
		</FORM>
		<FORM id="Fileinput" name="Файлы входящие">
			<GRID id="Fileinput" name="Файлы входящие" table="FILEINPUT" actionlist="addFilelinks;loadFilelinks"/>
		</FORM>
		<FORM id="Fileoutput" name="Файлы исходящие">
			<GRID id="Fileoutput" name="Файлы исходящие" table="FILEOUTPUT" actionlist="addFilelinks;loadFilelinks"/>
		</FORM>
		<FORM id="Options" name="Параметры системы">
			<GRID id="Options" name="Параметры системы" table="OPTIONS"/>
		</FORM>
		<FORM id="DocTypes" name="Типы документов">
			<GRID id="DocTypes" name="Типы документов" table="DOCTYPES"/>
		</FORM>
		<FORM id="ConfigTables" name="Настройки интерфейсов">
			<GRID name="Таблицы" table="CONFIGTABLES" actionlist="ConfigTablesCopy" readonly="true">
				<MENU>
					<MI actionlist="View;Delete;MoveFolder;ConfigTables"/>
				</MENU>
			</GRID>
			<GRID name="Колонки" table="CONFIGCOLUMNS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="ConfigTablesBuff" name="Настройка интерфейса (буфер)">
			<GRID name="Таблицы" table="CONFIGTABLESBUFF" readonly="true">
				<MENU>
					<MI actionlist="Update;Delete"/>
				</MENU>
			</GRID>
			<GRID name="Колонки" table="CONFIGCOLUMNSBUFF" readonly="true">
				<MENU>
					<MI actionlist="Update"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="RegSessions" name="Журнал регистрации сессий">
			<GRID name="Журнал регистрации сессий" table="REGSESSIONS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="RegUnitAccess" name="Журнал регистрации доступа">
			<GRID name="Журнал регистрации доступа" table="REGUNITACCESS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="Concepts" name="Форматы обмена данными">
			<GRID id="Concepts" name="Форматы обмена данными" table="CONCEPTS" actionlist="ConceptLoad"/>
			<GRID id="ConceptItems" name="Элементы" table="CONCEPTITEMS"/>
		</FORM>
		<FORM id="Conv" name="Алгоритмы загрузки">
			<GRID id="Conv" name="Алгоритмы загрузки" table="CONV"/>
			<GRID id="ConvActs" name="Алгоритмы загрузки (действия)" table="CONVACTS" actionlist="convactparams_fill"/>
			<GRID id="ConvActParams" name="Алгоритмы загрузки (параметры)" table="CONVACTPARAMS" readonly="true">
				<MENU>
					<MI actionlist="Update;View;MoveFolder;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="ConvActs" name="Алгоритмы загрузки (действия)">
			<GRID id="ConvActs" name="Алгоритмы загрузки (действия)" table="CONVACTS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
			<GRID id="ConvActParams" name="Алгоритмы загрузки (параметры)" table="CONVACTPARAMS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="ConvLoads" name="Процессы загрузки">
			<GRID id="ConvLoads" name="Процессы загрузки" table="CONVLOADS" actionlist="ConvLoadsUploadFile;ConvLoadsClear;ConvLoadsPrepare;ConvLoadsStart"/>
			<GRID id="ConvLoadActs" name="Буфер выполнения (действия)" table="CONVLOADACTS" readonly="true">
				<MENU>
					<MI actionlist="View;Delete;ConfigTables"/>
				</MENU>
			</GRID>
			<GRID id="ConvLoadActParams" name="Буфер выполнения (параметры)" table="CONVLOADACTPARAMS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="ConvLoadActs" name="Буфер выполнения (действия)">
			<GRID id="ConvLoadActs" name="Буфер выполнения (действия)" table="CONVLOADACTS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
			<GRID id="ConvLoadActParams" name="Буфер выполнения (параметры)" table="CONVLOADACTPARAMS" readonly="true">
				<MENU>
					<MI actionlist="View;ConfigTables"/>
				</MENU>
			</GRID>
		</FORM>
		<FORM id="ConvKeys" name="Внешние ключи">
			<GRID id="ConvKeys" name="Внешние ключи" table="CONVKEYS"/>
		</FORM>
	</FORMS>
</SYSTEM>
